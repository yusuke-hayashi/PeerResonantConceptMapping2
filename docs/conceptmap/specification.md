# 概念マップ仕様書

## 1. 概要

概念マップは、知識の構造を視覚的に表現するためのツールである。
ノードとリンクで構成され、概念間の関係を明示的に示す。

## 2. 基本構成要素

### 2.1 ノード（Node）

概念マップの構成要素。2種類のタイプがある。

#### 名詞ノード（Noun Node）
- `type: 'noun'`
- 「もの」や「こと」を表す
- 例: 光合成、酸素、二酸化炭素、植物、エネルギー

#### 動詞ノード（Verb Node）
- `type: 'verb'`
- 動作や関係を表す
- 例: 必要とする、生成する、吸収する、与える、行われる

### 2.2 リンク（Link）

- 2つのノードをつなぐ線
- 動詞ノードから名詞ノードへ伸びる
- ラベルで役割を示す

## 3. リンクラベル

| ラベル | 役割 | 文の例 |
|--------|------|--------|
| 何が | 動作の主体 | 「**光合成が**必要とする」 |
| 何を | 動作の対象 | 「必要とする**光エネルギーを**」 |
| 何に | 動作の相手・到達先 | 「与える**植物に**」 |
| どこで | 場所 | 「行われる**葉緑体で**」 |
| いつ | 時間 | 「起こる**日中に**」 |

### 「何を」と「何に」の区別

- **何を**: 直接影響を受けるもの（与えるもの、変化するもの）
- **何に**: 動作の相手・到達先（受け取る側、向かう先）

例: 「水を植物に与える」
- 水 → 何を（与えるもの）
- 植物 → 何に（受け取る相手）

## 4. 命題（Proposition）

概念マップの最小構成単位。

- 構造: `[ノード] - [リンク] - [ノード]`
- 典型的なパターン: `[名詞] <--(何が)-- [動詞] --(何を)--> [名詞]`

## 5. 制約

- リンクは必ず2つのノードのみをつなぐ
- 3つ以上のノードをつなぐ場合は、動詞ノードから複数のリンクを伸ばす

## 6. 具体例

### 例1: 「光合成は光エネルギーを必要とする」

```
[光合成] <--(何が)-- [必要とする] --(何を)--> [光エネルギー]
```

命題:
- 光合成 --(何が)--> 必要とする
- 必要とする --(何を)--> 光エネルギー

### 例2: 「葉緑体で光合成が行われる」

```
[葉緑体] <--(どこで)-- [行われる] --(何が)--> [光合成]
```

命題:
- 葉緑体 --(どこで)--> 行われる
- 行われる --(何が)--> 光合成

### 例3: 「植物は二酸化炭素を吸収する」

```
[植物] <--(何が)-- [吸収する] --(何を)--> [二酸化炭素]
```

命題:
- 植物 --(何が)--> 吸収する
- 吸収する --(何を)--> 二酸化炭素

### 例4: 「太陽が植物にエネルギーを与える」

```
[太陽] <--(何が)-- [与える] --(何を)--> [エネルギー]
                       \--(何に)--> [植物]
```

命題:
- 太陽 --(何が)--> 与える
- 与える --(何を)--> エネルギー
- 与える --(何に)--> 植物

※ 動詞ノードから複数の名詞ノードへリンクを伸ばす例

### 例5: 「光合成は二酸化炭素を酸素に変える」

```
[光合成] <--(何が)-- [変える] --(何を)--> [二酸化炭素]
                         \--(何に)--> [酸素]
```

命題:
- 光合成 --(何が)--> 変える
- 変える --(何を)--> 二酸化炭素
- 変える --(何に)--> 酸素（変化先）

## 7. 表記規則

ノードタイプを区別するため、以下の表記を使用する:

- **名詞ノード**: `[名詞]`（角括弧）
- **動詞ノード**: `<動詞>`（山括弧）

## 8. 大規模な概念マップの例: 光合成

### 8.1 ノード一覧

**名詞ノード（12個）**
- [植物], [光合成], [葉緑体], [光エネルギー], [太陽]
- [二酸化炭素], [水], [酸素], [デンプン], [グルコース]
- [気孔], [大気]

**動詞ノード（7個）**
- <行う>, <行われる>, <必要とする>, <吸収する>
- <生成する>, <放出する>, <届く>

### 8.2 命題一覧（動詞ノードでクラスタリング）

#### <行う>
| 構造 | 元の文 |
|------|--------|
| [植物] <--(何が)-- <行う> --(何を)--> [光合成] | 植物は光合成を行う |

#### <行われる>
| 構造 | 元の文 |
|------|--------|
| [葉緑体] <--(どこで)-- <行われる> --(何が)--> [光合成] | 葉緑体で光合成が行われる |

#### <必要とする>
| 構造 | 元の文 |
|------|--------|
| [光合成] <--(何が)-- <必要とする> --(何を)--> [光エネルギー] | 光合成は光エネルギーを必要とする |
| [光合成] <--(何が)-- <必要とする> --(何を)--> [二酸化炭素] | 光合成は二酸化炭素を必要とする |
| [光合成] <--(何が)-- <必要とする> --(何を)--> [水] | 光合成は水を必要とする |

#### <吸収する>
| 構造 | 元の文 |
|------|--------|
| [植物] <--(何が)-- <吸収する> --(何を)--> [二酸化炭素] | 植物は二酸化炭素を吸収する |
| [気孔] <--(どこで)-- <吸収する> --(何を)--> [二酸化炭素] | 気孔で二酸化炭素を吸収する |

#### <生成する>
| 構造 | 元の文 |
|------|--------|
| [光合成] <--(何が)-- <生成する> --(何を)--> [酸素] | 光合成は酸素を生成する |
| [光合成] <--(何が)-- <生成する> --(何を)--> [グルコース] | 光合成はグルコースを生成する |

#### <放出する>
| 構造 | 元の文 |
|------|--------|
| [植物] <--(何が)-- <放出する> --(何を)--> [酸素] --(何に)--> [大気] | 植物は酸素を大気に放出する |

#### <届く>
| 構造 | 元の文 |
|------|--------|
| [太陽] <--(何が)-- <届く> --(何を)--> [光エネルギー] --(何に)--> [植物] | 太陽から光エネルギーが植物に届く |

### 8.3 統計

- 名詞ノード: 12個
- 動詞ノード: 7個
- 命題（リンク）: 18個
- クラスター（動詞単位）: 7個
